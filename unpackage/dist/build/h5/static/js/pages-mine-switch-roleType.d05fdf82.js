(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-switch-roleType"],{"0dcc":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.boundSaveInfo=t.getVertryCode=t.getOpenIDList=t.setStateRecords=t.getPhoneDate=t.setDeleteStudent=t.setSwicthStudent=t.getChilderList=t.addBindStudent=t.getClassesList=t.getFieldList=void 0,n("96cf");var a=r(n("1da1")),i=r(n("368e")),s=n("033a"),u=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,i.default.post(s.COM_FIELD_LIST,{field:t},{load:n});case 3:if(r=e.sent,0!=r.code||!r.data.length){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getFieldList=u;var c=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.COM_AREA_SCHOOL_CLASSES_LIST);case 2:if(t=e.sent,0!=t.code||!t.data.length){e.next=7;break}return e.abrupt("return",t.data);case 7:return w("获取学校班级列表数据为空,联系客服"),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getClassesList=c;var o=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.ADD_PARENT_BIND_STUDENT,t);case 2:if(n=e.sent,200!=n.code||1!=n.status){e.next=11;break}if(!n.data||!n.data.student){e.next=8;break}return e.abrupt("return",n.data);case 8:w("数据返回有误,联系客服");case 9:e.next=12;break;case 11:w(n.msg);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.addBindStudent=o;var l=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.GET_PARENT_STUDENT_LIST,{parentId:t});case 2:if(n=e.sent,0!=n.code){e.next=11;break}if(!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",[]);case 9:e.next=12;break;case 11:w(n.msg);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getChilderList=l;var d=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.SET_PARENT_STUDENT_LOGIN_INFO,t);case 2:if(n=e.sent,200!=n.code||1!=n.status){e.next=7;break}return e.abrupt("return","ok");case 7:w(childrenDate.msg);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.setSwicthStudent=d;var f=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.index){e.next=14;break}return e.next=3,uni.showModal({title:"删除绑定学生",content:"确定删除"+n.student.studentName+"?"});case 3:if(r=e.sent,!r[1].confirm){e.next=14;break}return e.next=7,i.default.post(s.REMOVE_PARENT_BIND_STUDENT,{parentId:n.studentParentId,studentId:n.studentId});case 7:if(a=e.sent,200!=a.code||1!=a.status){e.next=13;break}return w("删除成功"),e.abrupt("return","ok");case 13:w(a.msg);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.setDeleteStudent=f;var p=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.next=3,i.default.post(s.GET_ADDRESS_BOOK_BY_PARENT,{studentId:t,param:n});case 3:if(r=e.sent,!r){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getPhoneDate=p;var b=function(e){i.default.post(s.SET_LOGIN_INFO,{id:e},{load:!1})};t.setStateRecords=b;var v=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.GET_USER_INFO_LIST,{openId:t});case 2:if(n=e.sent,200!=n.code||1!=n.status){e.next=11;break}if(!Array.isArray(n.data)){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",[]);case 9:e.next=13;break;case 11:return w(n.msg),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getOpenIDList=v;var g=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(s.BOUND_VERIFY_CODE,t);case 2:if(n=e.sent,200!=n.code){e.next=11;break}if(1!=n.status){e.next=8;break}return e.abrupt("return",n.data);case 8:w("获取验证码失败,请重试");case 9:e.next=12;break;case 11:w(n.msg);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getVertryCode=g;var m=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.openId){e.next=3;break}return w("数据openId不存在,联系客服"),e.abrupt("return");case 3:return e.next=5,i.default.post(s.BOUND_SAVE_BIND,t);case 5:if(n=e.sent,200!=n.code){e.next=14;break}if(1!=n.status){e.next=11;break}return e.abrupt("return",n.data);case 11:w("绑定失败,重新绑定");case 12:e.next=15;break;case 14:w(n.msg);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.boundSaveInfo=m;var w=function(e){uni.showToast({duration:3e3,title:e,icon:"none",mask:!0})}},"145d":function(e,t,n){"use strict";var r=n("4ea4");n("ac1f"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.depthClone=t.comUploadImg=t.commonTelPhone=t.deleteOperation=t.getWxJsSdk=void 0,n("96cf");var a=r(n("1da1")),i=r(n("368e")),s=r(n("aba9")),u=n("033a"),c=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(u.SIGN_INFO,{url:window.location.href.split("#")[0]},{header:{"content-type":"application/x-www-form-urlencoded"},load:!1});case 2:t=e.sent,s.default.config({debug:!1,appId:t.appid,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["getLocation","openLocation","updateTimelineShareData","startRecord"]}),s.default.ready((function(){console.log("注入jssdk成功")})),s.default.error((function(e){console.log("注入jssdk失败"+e),c()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getWxJsSdk=c;var o=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var n,r,a,i,s,u,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.e,r=t.tipTitle,a=t.tipContent,i=t.deleteApi,s=t.data,u=t.redirectUrl,c=t.type,o=t.confirmText,e.prev=1,!n||"删除"!=n.content.text){e.next=6;break}return e.abrupt("return",l(r,a,i,s,o));case 6:if(!n||"修改"!=n.content.text){e.next=10;break}uni.navigateTo({url:u}),e.next=11;break;case 10:return e.abrupt("return",l(r,a,i,s,c,o));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();t.deleteOperation=o;var l=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t,n,r,a,s,u){var c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.showModal({title:t||"删除行为",content:n||"你确定要删除该项吗?",confirmText:u});case 2:if(c=e.sent,!c[1].confirm){e.next=13;break}return e.next=6,i.default.post(r,a);case 6:if(o=e.sent,200!=o.code||1!=o.status){e.next=12;break}return b(s?"设置成功":"删除成功"),e.abrupt("return","ok");case 12:b(o.msg);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,s){return e.apply(this,arguments)}}(),d=function(e){e?uni.makePhoneCall({phoneNumber:e}):uni.showToast({title:"没有获取到号码",icon:"none",duration:3e3})};t.commonTelPhone=d;var f=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.chooseImage({count:1,sourceType:["album","camera"]});case 2:if(t=e.sent,!t[1].tempFilePaths){e.next=17;break}return uni.showLoading({title:"上传中...",mask:!0}),n=t[1].tempFilePaths[0],e.next=8,uni.uploadFile({url:u.BASE_URL+u.COM_UPLOAD_FILD,filePath:n,name:"file",formData:{userId:uni.getStorageSync("userId")}});case 8:if(r=e.sent,!r[1]){e.next=13;break}return uni.hideLoading(),a=r[1]["data"]&&JSON.parse(r[1]["data"]).data,e.abrupt("return",a);case 13:uni.hideLoading(),b("上传图片失败,重新上传"),e.next=18;break;case 17:b("选择图片失败,请重新选择");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.comUploadImg=f;var p=function(e){var t;if("object"===typeof e)t={};else{if(!Array.isArray(e))return t;t=[]}for(var n in e){var r=e[n];"object"===typeof r||Array.isArray(e)?t[n]=clone(r):t[n]=r}return t};t.depthClone=p;var b=function(e){uni.showToast({duration:3e3,title:e,icon:"none",mask:!0})}},"1e5d":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";uni-page-body[data-v-eb0c30c4]{background-color:#f8f8f8}.transit[data-v-eb0c30c4]{width:100vw}.transit .transit-site[data-v-eb0c30c4]{width:100vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?40?%;height:%?80?%}.transit .transit-site .site-shutDown[data-v-eb0c30c4]{font-size:%?34?%;letter-spacing:%?4?%;font-family:微软雅黑}.transit .transit-tutle[data-v-eb0c30c4]{margin-top:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?84?%;width:100vw;font-size:%?56?%;text-align:left;font-family:SourceHanSansSC-regular;color:#333}.transit .transit-horizontalLine[data-v-eb0c30c4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100vw}.transit .transit-horizontalLine .horizontalLine[data-v-eb0c30c4]{margin:%?100?% 0;width:%?300?%;height:%?2?%;background-color:#bbb}.transit .transit-item[data-v-eb0c30c4]{width:100vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.transit .transit-item .item[data-v-eb0c30c4]{background-color:#fff;width:%?680?%;height:%?130?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;margin-bottom:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%}.transit .transit-item .item .display[data-v-eb0c30c4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;flex:1}.transit .transit-item .item .display .item-img[data-v-eb0c30c4]{width:%?100?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border:%?2?% solid #ccc;font-size:%?38?%;color:#ccc;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden}.transit .transit-item .item .display .item-title[data-v-eb0c30c4]{margin-left:%?30?%;font-size:%?34?%;color:#000;font-family:黑体;letter-spacing:%?4?%}.transit .transit-item .item .display .item-titles[data-v-eb0c30c4]{margin-left:%?30?%}.transit .transit-item .item .display .item-titles .titles-nema[data-v-eb0c30c4]{font-size:%?34?%;color:#000;font-family:黑体}.transit .transit-item .item .display .item-titles .titles-nema .name-character[data-v-eb0c30c4]{margin-left:%?60?%;font-family:SourceHanSansCN Regular;font-size:%?24?%;color:#fff;display:inline-block;padding:0 %?15?%;height:%?35?%;background-color:#09f;line-height:%?35?%;-webkit-border-radius:%?20?%;border-radius:%?20?%}.transit .transit-item .item .display .item-titles .titles-time[data-v-eb0c30c4]{font-size:%?26?%;margin-top:%?10?%;color:#09f}.transit .transit-item .item .display .item-titles .titles-time .name-count[data-v-eb0c30c4]{font-size:%?26?%;color:red;margin-left:%?60?%}.transit .transit-item .item .display .item-imgs[data-v-eb0c30c4]{color:#ccc;font-size:%?54?%;border:%?2?% solid #ccc;width:%?100?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden}.transit .transit-item .item .clear[data-v-eb0c30c4]{font-family:SourceHanSansCN Regular;font-size:%?30?%;color:#fff;background-color:#f25542;height:%?60?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:%?10?%;border-radius:%?10?%}.transit .transit-item .item .current[data-v-eb0c30c4]{font-family:SourceHanSansCN Regular;font-size:%?30?%;color:#09f;background-color:rgba(0,153,255,.2);padding:0 %?30?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;height:%?50?%;line-height:%?50?%}body.?%PAGE?%[data-v-eb0c30c4]{background-color:#f8f8f8}',""]),e.exports=t},"6ed0":function(e,t,n){"use strict";var r=n("8893"),a=n.n(r);a.a},8893:function(e,t,n){var r=n("1e5d");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("597e150e",r,!0,{sourceMap:!1,shadowMode:!1})},"8b13":function(e,t,n){"use strict";n.r(t);var r=n("a4a6"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},a28b:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"transit"},[n("v-uni-view",{staticClass:"transit-site"},[e.isClear?e._e():n("v-uni-view",{staticClass:"site-shutDown",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shutDown.apply(void 0,arguments)}}},[e._v("关闭")]),e.isClear?n("v-uni-view",{staticClass:"site-shutDown",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isClear=!1}}},[e._v("取消")]):e._e(),e.isClear?e._e():n("v-uni-view",{staticClass:"site-shutDown",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isClear=!e.isClear}}},[e._v("管理")])],1),n("v-uni-view",{staticClass:"transit-tutle"},[e._v("轻触头像切换账号")]),n("v-uni-view",{staticClass:"transit-horizontalLine"},[n("v-uni-view",{staticClass:"horizontalLine"})],1),n("v-uni-view",{staticClass:"transit-item"},[e._l(e.userList,(function(t,r){return[t.user||t.studentParent?n("v-uni-view",{key:r+"_0",staticClass:"item",class:e.isClear&&t.isCurrent?"select-item":""},[n("v-uni-view",{staticClass:"display",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.accountSwitch(t)}}},[1!=t.userType&&t.user?n("v-uni-view",{staticClass:"item-img"},[e._v(e._s(t.user.nickName.substr(t.user.nickName.length-1,1)))]):e._e(),1==t.userType&&t.studentParent?n("v-uni-view",{staticClass:"item-img"},[e._v(e._s(t.studentParent.parentName.substr(t.studentParent.parentName.length-1,1)))]):e._e(),n("v-uni-view",{staticClass:"item-titles"},[n("v-uni-view",{staticClass:"titles-nema"},[1!=t.userType&&t.user?n("v-uni-text",[e._v(e._s(t.user.nickName))]):e._e(),1==t.userType&&t.studentParent?n("v-uni-text",[e._v(e._s(t.studentParent.parentName))]):e._e(),1==t.userType?n("v-uni-text",{staticClass:"name-character",staticStyle:{"background-color":"#666"}},[e._v("家长")]):e._e(),0==t.userType?n("v-uni-text",{staticClass:"name-character"},[e._v("学生")]):e._e(),2==t.userType?n("v-uni-text",{staticClass:"name-character",staticStyle:{"background-color":"#f8ae56"}},[e._v("教师")]):e._e()],1),n("v-uni-view",{staticClass:"titles-time"},[n("v-uni-text",[e._v("最近登入: "+e._s(e._f("getDate")(t.loginDate)))])],1)],1)],1),e.isClear&&t.isCurrent&&1!=e.userList.length?n("v-uni-icon",{attrs:{type:"success",size:"26",color:"#0099ff"}}):e._e(),!e.isClear||t.isCurrent&&1!=e.userList.length?e._e():n("v-uni-icon",{attrs:{type:"clear",size:"26",color:"#f25542"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.clear(t,r)}}})],1):e._e()]})),n("v-uni-view",{staticClass:"item"},[n("v-uni-view",{staticClass:"display",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addAoleAccount.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"item-imgs"},[e._v("+")]),n("v-uni-view",{staticClass:"item-title"},[e._v("添加账号")])],1)],1)],2)],1)],1)},i=[]},a4a6:function(e,t,n){"use strict";var r=n("4ea4");n("4de4"),n("d81d"),n("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=r(n("1da1")),i=n("033a"),s=n("0dcc"),u=n("145d"),c={data:function(){return{isClear:!1,wxOpenId:"",roleType:"",userList:[],currentLoginUserId:""}},onLoad:function(){this.getInitDate()},methods:{getInitDate:function(){var e=uni.getStorageSync("roleType"),t=uni.getStorageSync("openId");e&&t?(this.wxOpenId=t,this.roleType=e,-1==e?console.log("获取的类型为未绑定状态"):this.currentLoginUserId=1==e?uni.getStorageSync("parentId"):uni.getStorageSync("userId"),this.getUserList(t)):this.getInitDate()},getUserList:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.post(i.GET_USER_INFO_LIST,{openId:e});case 2:r=n.sent,200==r.code&&1==r.status&&(r.data.map((function(e){e.userId==t.currentLoginUserId?e.isCurrent=!0:e.isCurrent=!1})),t.userList=r.data);case 4:case"end":return n.stop()}}),n)})))()},accountSwitch:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,(0,s.setStateRecords)(e.id),0!=e.userType||!e.student){n.next=10;break}uni.setStorageSync("roleType",e.userType),uni.setStorageSync("userId",e.student.userId),uni.setStorageSync("student",e.student),uni.removeStorageSync("cardDate"),t.$Q.tipUrl({tip:"切换成功",url:"/pages/index/index",isTab:!0}),n.next=45;break;case 10:if(1!=e.userType||!e.userId){n.next=36;break}return uni.setStorageSync("roleType",e.userType),uni.setStorageSync("parentId",e.userId),n.next=15,(0,s.getChilderList)(e.userId);case 15:if(r=n.sent,a=r.filter((function(e){return e.loginFlag})),!r.length){n.next=33;break}if(!(a.length>0)){n.next=28;break}if(!a[0].student){n.next=24;break}uni.setStorageSync("userId",a[0].student.userId),uni.setStorageSync("student",a[0].student),n.next=26;break;case 24:return t.$Q.tipUrl({tip:"获取学生数据异常,联系客服"}),n.abrupt("return");case 26:n.next=30;break;case 28:uni.setStorageSync("userId",r[0].student.userId),uni.setStorageSync("student",r[0].student);case 30:t.$Q.tipUrl({tip:"切换成功",url:"/pages/index/index",isTab:!0}),n.next=34;break;case 33:t.$Q.tipUrl({tip:"获取学生数据异常,重新添加学生",url:"/parent/home/add-baby"});case 34:n.next=45;break;case 36:if(2!=e.userType||!e.teacher.userId){n.next=44;break}return thi.$Q.tipUrl({tip:"此版本暂未做教师角色"}),n.abrupt("return");case 44:t.$Q.tipUrl({tip:"切换失败,数据不完整,联系客服"});case 45:n.next=50;break;case 47:n.prev=47,n.t0=n["catch"](0),console.log("切换账号遇到错误");case 50:case"end":return n.stop()}}),n,null,[[0,47]])})))()},addAoleAccount:function(){uni.navigateTo({url:"/parent/home/select-role"})},shutDown:function(){uni.navigateBack({delta:1})},clear:function(e,t){var n=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var a,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,u.deleteOperation)({e:null,tipTitle:"删除绑定账号",tipContent:"确定要删除该账号吗",deleteApi:i.REMOVE_BIND_USER,data:{id:e.id}});case 2:a=r.sent,a&&(1==n.userList.length&&(s=uni.getStorageSync("openId"),c=uni.getStorageSync("wxUserInfo"),uni.clearStorageSync(),uni.setStorageSync("roleType",-1),uni.setStorageSync("openId",s),uni.setStorageSync("wxUserInfo",c),uni.switchTab({url:"/pages/index/index"})),n.userList.splice(t,1));case 4:case"end":return r.stop()}}),r)})))()}},filters:{getDate:function(e){return e.substr(5,5)}}};t.default=c},f0a6:function(e,t,n){"use strict";n.r(t);var r=n("a28b"),a=n("8b13");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("6ed0");var s,u=n("f0c5"),c=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,"eb0c30c4",null,!1,r["a"],s);t["default"]=c.exports}}]);