(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tearch-home-tearch-bind"],{"0a2b":function(t,e,i){"use strict";i.r(e);var a=i("af32"),n=i("3f45");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d7d2");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7486e0fa",null,!1,a["a"],r);e["default"]=c.exports},"1f6e2":function(t,e,i){"use strict";i("c975"),i("a9e3"),i("b64b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var t=this.$u.type2icon(this.tmpConfig.type);return t}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(t){var e=this;this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){e.isShow=!1,clearTimeout(e.timer),e.timer=null,"function"===typeof e.tmpConfig.callback&&e.tmpConfig.callback(),e.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};e.default=a},"20c1":function(t,e,i){"use strict";var a=i("71da"),n=i.n(a);n.a},"3f45":function(t,e,i){"use strict";i.r(e);var a=i("8944"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"71da":function(t,e,i){var a=i("c005");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4d7edc71",a,!0,{sourceMap:!1,shadowMode:!1})},"73a8":function(t,e,i){"use strict";i.r(e);var a=i("1f6e2"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8944:function(t,e,i){"use strict";i("4160"),i("d3b7"),i("25f0"),i("498a"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{classNameList:[],classTrue:!1,tearcharName:"请选择学校",picker:[],type:"",phoneNumber:"",captchaNumber:"",disabled:!1,count:60,verifiCode:"",idCardNumber:"",classesId:"",param:"",send:"获取验证码",openId:"",expireDate:"",wxUserList:"",typeObj:{studentType:null,parentType:null,teacherType:null}}},onLoad:function(t){this.type=t.type;var e=this.$queue.getData("openId");e?this.openId=e:this.$queue.showTost("没有获取到openId,请重新进入"),this.getWxUser()},methods:{getWxUser:function(){var t=this;this.$http.post("/common/getFieldList",{field:"wxUserType"}).then((function(e){0==e.code?t.wxUserList=e.data:t.$refs.uToast.show({title:"获取微信用户信息失败,请重新进入",type:"error"})}))},captcha:function(){var t=this;this.idCardNumber?/^1[3-9]{1}[0-9]{9}$/.test(this.phoneNumber)?(console.log(this.type),this.$http.post("/getPhoneVerifyCode",{type:this.type,userName:this.idCardNumber,phoneNum:this.phoneNumber.toString()}).then((function(e){if(console.log(e),200==e.code&&1==e.status)if(e.data.code&&e.data.param){t.expireDate=(new Date).getTime(),t.$refs.uToast.show({title:"发送成功",type:"success"}),t.param=e.data.param,t.verifiCode=e.data.code,t.disabled=!0;var i=setInterval((function(){t.count--,t.send=t.count+"s重新获取",t.count<0&&(clearInterval(i),t.send="重新获取",t.disabled=!1,t.count=60)}),1e3)}else t.$refs.uToast.show({title:"获取验证码次数上限,获取失败",type:"error"});else t.$refs.uToast.show({title:e.msg,type:"error"})}))):this.$refs.uToast.show({title:"请输入正确的手机号码",type:"info"}):this.$refs.uToast.show({title:"请填写正确的姓名",type:"info"})},bind:function(){var t=this;this.param?this.idCardNumber!=this.param.userName?this.$refs.uToast.show({title:"请填写正确的姓名",type:"info"}):this.phoneNumber!=this.param.phoneNum?this.$refs.uToast.show({title:"请填写正确的手机号",type:"info"}):this.captchaNumber!=this.verifiCode||6!=this.captchaNumber.trim().length?this.$refs.uToast.show({title:"输入验证码错误",type:"info"}):(new Date).getTime()-this.expireDate>18e4?this.$refs.uToast.show({title:"验证码已过期,重新获取",type:"info"}):this.$http.post("/saveCodeBindUser",{type:this.type,userName:this.idCardNumber,phoneNum:this.phoneNumber.toString(),openId:this.openId}).then((function(e){console.log(e),200==e.code&&1==e.status?e.data.success?(t.$queue.setData("userId",e.data.data.teacher.userId),t.$queue.setData("type",e.data.type),t.wxUserList.forEach((function(e,i){"教师"==e.codedesc&&(t.typeObj.teacherType=e.code)})),uni.setStorageSync("typeObj",JSON.stringify(t.typeObj)),uni.removeStorageSync("student"),t.$refs.uToast.show({title:"绑定成功",type:"success",url:"/pages/homePage/index/index",isTab:!0})):t.$refs.uToast.show({title:e.data.msg,type:"error"}):t.$refs.uToast.show({title:e.msg,type:"error"})})):this.$refs.uToast.show({title:"请先获取验证码在绑定",type:"info"})}}};e.default=a},"952e":function(t,e,i){"use strict";i.r(e);var a=i("ff78"),n=i("73a8");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("20c1");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"2a6a561c",null,!1,a["a"],r);e["default"]=c.exports},af32:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uToast:i("952e").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"tearcher"},[t._v("教师绑定")]),i("v-uni-view",{staticClass:"bind"},[i("v-uni-view",{staticClass:"bind-item"},[i("v-uni-input",{staticStyle:{width:"400rpx"},attrs:{placeholder:"请输入老师的姓名","placeholder-class":"place",maxlength:"18"},model:{value:t.idCardNumber,callback:function(e){t.idCardNumber="string"===typeof e?e.trim():e},expression:"idCardNumber"}})],1),i("v-uni-view",{staticClass:"bind-item"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入11位手机号码","placeholder-class":"place",maxlength:"11"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber="string"===typeof e?e.trim():e},expression:"phoneNumber"}}),i("v-uni-button",{class:/^1[3-8]{1}[0-9]{9}$/.test(this.phoneNumber)?"captchas":"",attrs:{disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.captcha.apply(void 0,arguments)}}},[t._v(t._s(t.send))])],1),i("v-uni-view",{staticClass:"bind-item"},[i("v-uni-input",{staticStyle:{width:"400rpx"},attrs:{type:"number",placeholder:"请输入短信验证码","placeholder-class":"place",maxlength:"6"},model:{value:t.captchaNumber,callback:function(e){t.captchaNumber="string"===typeof e?e.trim():e},expression:"captchaNumber"}})],1),i("v-uni-view",{staticClass:"agree"},[i("v-uni-text",{staticClass:"iconfont icon-tongyi1",staticStyle:{"font-size":"28rpx",color:"#3e74ef"}}),i("v-uni-text",{staticStyle:{"margin-left":"15rpx",color:"#666666","font-family":"'STHeitiTC'"}},[t._v("继续往下操作,即同意我们的")]),i("v-uni-text",{staticStyle:{"margin-left":"6rpx",color:"#4b80fb"}},[t._v('"服务协议"')])],1),i("v-uni-view",{staticClass:"binding",class:0!==t.captchaNumber.length?"bindings":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bind.apply(void 0,arguments)}}},[t._v("绑定")]),i("v-uni-view",{staticClass:"account"},[t._v("暂不支持账号密码绑定")]),i("u-toast",{ref:"uToast"})],1)],1)},o=[]},c005:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".u-toast[data-v-2a6a561c]{position:fixed;z-index:-1;-webkit-transition:opacity .3s;transition:opacity .3s;text-align:center;color:#fff;-webkit-border-radius:%?8?%;border-radius:%?8?%;background:#585858;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-2a6a561c]{opacity:1}.u-icon[data-v-2a6a561c]{margin-right:%?10?%;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:normal}.u-position-center[data-v-2a6a561c]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-2a6a561c]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-2a6a561c]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-2a6a561c]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-2a6a561c]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-2a6a561c]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-2a6a561c]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-2a6a561c]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-2a6a561c]{color:#fff;background-color:#585858}",""]),t.exports=e},cd75:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".tearcher[data-v-7486e0fa]{height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?36?%;color:#202020;letter-spacing:%?4?%}.bind[data-v-7486e0fa]{padding:%?79?% %?56?% 0 %?59?%}.bind .bind-item[data-v-7486e0fa]{font-size:%?30?%;margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?100?%;border-bottom:%?2?% solid #f1f2f1;font-family:PingFang SC Light}.bind .bind-item uni-input[data-v-7486e0fa]{color:#333;-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?60?%;line-height:%?60?%;border:0}.bind .bind-item .place[data-v-7486e0fa]{color:#bfbfbf}.bind .bind-item uni-button[data-v-7486e0fa]{height:%?60?%;width:%?200?%;line-height:%?60?%;font-size:%?30?%;color:#7b7b7b;background-color:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin:0;padding:0 %?5?%}.bind .bind-item uni-button.captchas[data-v-7486e0fa]{color:#fff;background-color:#3a91ff}.bind .bind-item .item-school[data-v-7486e0fa]{height:%?60?%;width:%?520?%;line-height:%?60?%;color:#bfbfbf;letter-spacing:%?4?%}.bind .bind-item .classTrue[data-v-7486e0fa]{color:#333}.bind .agree[data-v-7486e0fa]{margin:%?40?% 0;font-size:%?22?%}.bind .binding[data-v-7486e0fa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?84?%;line-height:%?84?%;background-color:#999;font-size:%?30?%;font-family:SourceHanSansCN Regular;color:#fff;-webkit-border-radius:%?44?%;border-radius:%?44?%;margin-bottom:%?40?%}.bind .binding.bindings[data-v-7486e0fa]{background-image:url(http://www.zjsmjcschool.com/doc/message/image/18b8b543-9ad7-11e8-aebe-1368d4ec24eb/1603365487917.png);background-repeat:no-repeat;background-size:cover;background-color:#fff}.bind .account[data-v-7486e0fa]{font-size:%?22?%;font-family:SourceHanSansCN Light;color:#007aff;letter-spacing:%?3?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?70?%}",""]),t.exports=e},d7d2:function(t,e,i){"use strict";var a=i("ffcc"),n=i.n(a);n.a},ff78:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uIcon:i("f082").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-toast",class:[t.isShow?"u-show":"","u-type-"+t.tmpConfig.type,"u-position-"+t.tmpConfig.position],style:{zIndex:t.uZIndex}},[i("v-uni-view",{staticClass:"u-icon-wrap"},[t.tmpConfig.icon?i("u-icon",{staticClass:"u-icon",attrs:{name:t.iconName,size:30,color:t.tmpConfig.type}}):t._e()],1),i("v-uni-text",{staticClass:"u-text"},[t._v(t._s(t.tmpConfig.title))])],1)},o=[]},ffcc:function(t,e,i){var a=i("cd75");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5eb69393",a,!0,{sourceMap:!1,shadowMode:!1})}}]);