(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["parent-security-whilte-list"],{"0154":function(e,t,i){"use strict";i.r(t);var n=i("a597"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"20ce":function(e,t,i){"use strict";i.r(t);var n=i("fc52"),a=i("0154");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("3664");var s,d=i("f0c5"),u=Object(d["a"])(a["default"],n["b"],n["c"],!1,null,"c10aca56",null,!1,n["a"],s);t["default"]=u.exports},3664:function(e,t,i){"use strict";var n=i("7110"),a=i.n(n);a.a},7110:function(e,t,i){var n=i("e2ff");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("01180924",n,!0,{sourceMap:!1,shadowMode:!1})},a597:function(e,t,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("a434"),i("ac1f"),i("466d"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("1da1")),r=i("9ff2"),s=n(i("73f4")),d=n(i("8f0c")),u={components:{kissHandle:s.default,kissMain:d.default},data:function(){return{operatorId:null,imei:null,status:null,simId:null,whilteList:[],whetherEdit:!1,whetherAddEdit:!1,handleDisable:!1,handleDate:{},handleType:1,handleDitIdx:"",changeEdiList:[],kissNumList:[],removeList:[]}},onLoad:function(e){this.getInitDate(e)},methods:{getInitDate:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n,a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.operatorId=(0,r.getOperatorId)(),t.imei=e.imei,i.next=4,(0,r.getCardParam)(e.imei);case 4:return n=i.sent,a=n.status,t.status=a,t.simId=uni.getStorageSync("cardDate")&&uni.getStorageSync("cardDate").simNumber||null,s={imei:e.imei,range:"0"},i.next=11,t.getKissNumber(s);case 11:return t.whilteList=i.sent,s.range="1",i.next=15,t.getKissNumber(s);case 15:t.kissNumList=i.sent;case 16:case"end":return i.stop()}}),i)})))()},getKissNumber:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,r.getWhiltList)(e);case 2:if(n=i.sent,!n){i.next=7;break}return a=[],n.forEach((function(e){a.push({imei:t.imei,operatorId:t.operatorId,id:e.id,faceUrl:e.faceUrl?e.faceUrl:"",name:e.name,phone:e.simId,range:"0",index:e.number,remove:"0"})})),i.abrupt("return",a);case 7:case 8:case"end":return i.stop()}}),i)})))()},editorDate:function(e){var t=e.val,i=e.idx;this.handleDate=t,this.handleDitIdx=i,this.handleDisable=!1,this.whetherAddEdit=!0,this.handleType=3},deleteDate:function(e){var t=this,i=e.idx;uni.showModal({title:"删除操作",content:"确定删除该白名单吗?",success:function(e){e.confirm&&(t.whilteList[i].remove="1",t.removeList.push(t.whilteList[i]),t.whilteList.splice(i,1),t.whetherEdit=!0)}})},dateilDate:function(e){var t=e.val;this.handleType=1,this.handleDate=t,this.handleDisable=!0,this.whetherAddEdit=!0},handleCancel:function(){this.whetherAddEdit=!1},handleSave:function(e){var t=e.val,i=e.idx;if(t.name)if(t.name.match(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g))this.$Q.tipUrl({tip:"不能输入表情"});else if(/^1[3-9]{1}[0-9]{9}$/.test(t.phone))if(t.phone==this.simId)this.$Q.tipUrl({tip:"不能与学生证号码重复"});else{if((0,r.isWhetherRepeat)(this.kissNumList,t.name,t.phone,-1,this.whilteList,i))return;var n=this.whilteList;3==this.handleType?n[i]=t:n.push(t),this.changeEdiList.push(t),this.whetherEdit=!0,this.whetherAddEdit=!1}else this.$Q.tipUrl({tip:"请输入正确的手机号"});else this.$Q.tipUrl({tip:"请输入姓名"})},addDate:function(){this.whilteList.length>=16?this.$Q.tipUrl({tip:"白名单只能十六个"}):(this.handleType=2,this.handleDate={imei:this.imei,operatorId:this.operatorId,faceUrl:"",name:"",phone:"",range:"0",index:1,remove:"0"},this.whetherAddEdit=!0)},saveDate:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.whilteList.concat(e.removeList),console.log(i),n={requestBody:i},t.next=5,(0,r.setFanceHandle)(e.status,n);case 5:a=t.sent,a&&(e.$Q.tipUrl({tip:a}),e.whetherEdit=!1);case 7:case"end":return t.stop()}}),t)})))()}}};t.default=u},e2ff:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"uni-page-body[data-v-c10aca56]{background-color:#f5f5f5}body.?%PAGE?%[data-v-c10aca56]{background-color:#f5f5f5}",""]),e.exports=t},fc52:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.whetherAddEdit?i("kiss-handle",{attrs:{disabled:e.handleDisable,datas:e.handleDate,types:e.handleType,editIdx:e.handleDitIdx},on:{handleSave:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSave.apply(void 0,arguments)},handleCancel:function(t){arguments[0]=t=e.$handleEvent(t),e.handleCancel.apply(void 0,arguments)}}}):i("kiss-main",{attrs:{moreData:"16",whilteList:e.whilteList,whetherEdit:e.whetherEdit},on:{editorDate:function(t){arguments[0]=t=e.$handleEvent(t),e.editorDate.apply(void 0,arguments)},deleteDate:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteDate.apply(void 0,arguments)},saveDate:function(t){arguments[0]=t=e.$handleEvent(t),e.saveDate.apply(void 0,arguments)},addDate:function(t){arguments[0]=t=e.$handleEvent(t),e.addDate.apply(void 0,arguments)},dateilDate:function(t){arguments[0]=t=e.$handleEvent(t),e.dateilDate.apply(void 0,arguments)}}})],1)},r=[]}}]);